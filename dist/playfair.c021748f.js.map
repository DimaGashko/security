{"version":3,"sources":["playfair/algorithms/playfair/_utils.ts","playfair/algorithms/playfair/PlayfairGrid.ts","playfair/index.ts","../../../../../../../../usr/lib/node_modules/parcel-bundler/src/builtins/bundle-url.js","../../../../../../../../usr/lib/node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","document","querySelectorAll","i","length","module"],"mappings":"AGAA,ACAA,IDAIA,ACAAY,MAAM,GDAG,ACAAC,GDAG,IAAhB,ACAoB,CAAC,cAAD,CAApB;;ADCA,ACCA,SDDSZ,ACCAa,UAAT,CAAoBC,IAApB,EAA0B,CDD1B,GAA8B;AAC5B,ACCA,MDDI,ACCAC,CDDChB,MCCM,GDDX,ACCce,EDDE,ECCE,CAACE,SAAL,EAAd;ADAEjB,IAAAA,SAAS,GAAGE,YAAY,EAAxB;AACD,ACADc,EAAAA,OAAO,CAACE,MAAR,GAAiB,YAAY;AAC3BH,AJLJ,IIKIA,IAAI,CAACI,AJLe,KAAxB,CIKI,AJL0B,GAA9B,EAA0C,IAA1C,EAAsD;AGMpD,ACAC,AJLA,GIGD,MDEOnB,AHLC,IAAI,KGKZ,AHLQ,CAAU,IAAI,CAAC,IAAL,CAAU,GAAG,CAAC,MAAJ,GAAa,IAAvB,CAAV,EAAwC,IAAxC,CAA6C,CAA7C,EAAgD,GAAhD,CAAoD,UAAC,CAAD,EAAI,CAAJ,EAAK;AGMlE,AHLK,WAAO,GAAG,CAAC,KAAJ,CAAU,CAAC,GAAG,IAAd,EAAoB,CAAC,CAAC,GAAG,CAAL,IAAU,IAA9B,CAAP;AIKJgB,AJJE,EIIFA,CJNQ,CAAP,KIMM,CAACI,IAAR,GAAeL,IAAI,CAACK,IAAL,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgCC,IAAI,CAACC,GAAL,EAA/C;ADEF,ACDER,AJJD,EIICA,IAAI,CAACS,EDCEtB,QCDP,CAAgBuB,GDClB,GAAwB,MCDtB,CAA6BT,OAA7B,EAAsCD,IAAI,CAACW,WAA3C;ADEA,ACDD;ADEC,AHXF,AEAA,MCWM,CHXN,AEAA,CFAA,AEAA,OFAA,GAAA,KAAA,gBEAA,CAAA;ACYI,ACDJ,IAAIC,MDCM,IAAIxB,ACDA,GAAG,EDCP,EAAN,ACDJ;ADEG,ADZH,GCUE,CAEE,GDZJ,CAAA,GCYWC,GAAP,EAAY,MDZhB,CAAA;ACaI,ACFJ,QDEQC,CCFCuB,MDEM,GAAG,ACFlB,CDEmB,ECFE,GDEGxB,GAAG,CAACE,KAAV,EAAiBC,KAAjB,CAAuB,+DAAvB,CAAd;ACDF,AFXF,IAAA,EEWMoB,UAAJ,EAAgB,AFXlB,GAAA,eAAA,CAAA,OAAA,CAAA,oCAAA,CAAA,CAAA;ACaI,ACDA,QDCItB,OAAJ,EAAa;AACX,ACDH,AFXH,IAAM,IAAI,GAAgB,ECYbG,MDZqB,CAAC,GCYZ,CAACH,OAAO,CAAC,CAAD,ADZL,CCYH,ADZ0B,CCY3C,KDZoB,CAA1B;ACaK,ADZL,IAAM,KAAK,GAAsB,IAAI,CAAC,aAAL,CAAmB,gBAAnB,CAAjC;ACaG,ACDDsB,AFXF,EEWEA,EFXI,OAAO,CEWD,EFXuB,CEWpBE,GFXwB,CAAC,MEWf,CAAC,MFXS,CAAmB,KEWhB,aFXH,CAAnC;AEYI,AFXJ,IAAM,GAAG,CEWDC,EFXiB,GEWZ,CFXgB,CAAC,CEWdC,QAAQ,CAACC,GFXA,CAAmB,YEW5B,CAA0B,CFXjB,CAAzB,sBEWgB,CAAZ;ADEF,ADXF,IAAM,KCWG,GAAP,ADXY,GAAoB,IAAI,CAAC,aAAL,CAAmB,MAAnB,CAAlC;ACYC,ACFG,AFTJ,IAAM,KESG,CFTG,GESCC,AFToB,CESnB,GAAG,CAAb,EAAgBA,CAAC,AFToB,CAAC,EESlBH,GFTxB,EES6B,CAACI,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrC,AFTN,IAAM,KAAK,CESDrB,EFTsB,IEShB,CAACJ,GFTuB,CAAC,MES/B,CAAkBsB,CFT5B,IESiC,CAACG,CAAD,CAAL,CAASb,IAA3B,MAAqCR,MAAM,CAACV,YAAP,EAAzC,EAAgE;ADGtE,ACFQY,AFTR,IAAM,IESEA,AFTE,CCWDN,EDXsB,OESb,CDElB,ACFmBsB,AFToB,CCWnBrB,ADXoB,GCWxC,ADXA,CESwB,CDEC,ACFAwB,CAAD,CAAN,CAAV;ADGN,ACFK,AHtBP,ACcA,IDdA,ACcM,KCUG,CAAC,EFxBV,GEwBexB,AFxBf,CCckB,ECUT,CDVY,CCUDC,OAAX,CAAmB,EFxB5B,CAAA,ECcqB,CAAA,IDdrB,CAAA,ECcqB,CAAa,ODdlC,CAAA,CAAA,GCcqB,CAA0B,SAA1B,CAArB,iCCUS,EAA2F,IAA3F,IAAmG,GAA1G;AACD,ACFI,AFPL,UAAU;ADZV,IAAA,YAAA;AEuBAC,ACFIgB,AHrBJ,ACcA,IEOIA,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","file":"playfair.c021748f.js","sourceRoot":"../src/pages","sourcesContent":["export default function chunk(arr: any[], size: number): any[][] {\n   return new Array(Math.ceil(arr.length / size)).fill(0).map((_, i) => {\n      return arr.slice(i * size, (i + 1) * size);\n   });\n}","import chunk from \"./_utils\";\n\ntype GridMap = Map<string, { i: number, j: number }>\n\nexport default class PlayfairGrid {\n   private grid: string[][];\n   private gridMap: GridMap = new Map();\n\n   constructor(\n      private code: string,\n      private alphabet: string[],\n      private delimiter: string,\n      private width: number,\n   ) {\n      this.create();\n   }\n\n   public static createEnGrid(code: string) {\n      const alphabet = \"abcdefghijklmnopqrstuvwxyz'._\".split('');\n      return new PlayfairGrid(code, alphabet, \"'\", 5);\n   }\n\n   public static createUaGrid(code: string) {\n      const alphabet = \"абвгдеєжзиіїйклмнопрстуфхцчшщьюя'._\".split('');\n      return new PlayfairGrid(code, alphabet, \"'\", 5);\n   }\n\n   public encodePair(pair: string[]): string[] {\n      return this.processPair(pair, 'encode');      \n   }\n\n   public decodePair(pair: string[]): string[] {\n      return this.processPair(pair, 'decode');\n   }\n\n   private create() {\n      this.grid = chunk(this.prepareAlphabet(this.code, this.alphabet), this.width);\n      this.gridMap = this.createGridMap(this.grid);\n   }\n\n   private processPair([a, b]: string[], mode: 'encode' | 'decode'): string[] {\n      const shift = (mode === 'encode') ? 1 : -1;\n      \n      if (b === a || !b) b = this.delimiter;\n      const { i: ai, j: aj } = this.gridMap.get(a);\n      const { i: bi, j: bj } = this.gridMap.get(b);\n\n      if (ai === bi) {\n         return [\n            this.get(ai, aj + shift),\n            this.get(bi, bj + shift),\n         ];\n      }\n\n      if (aj === bj) {\n         return [\n            this.get(ai + shift, aj),\n            this.get(bi + shift, bj),\n         ];\n      }\n\n      return [\n         this.get(ai, bj),\n         this.get(bi, aj),\n      ];\n   }\n\n   private get(i: number, j: number): string {\n      if (i < 0) i = this.grid.length - 1;\n      else if (i === this.grid.length) i = 0;\n\n      if (j < 0) j = this.width - 1;\n      else if (j === this.width) j = 0;\n\n      return this.grid[i][j];\n   }\n\n   private createGridMap(grid: string[][]): GridMap {\n      return grid.reduce((map, row, i) => {\n         row.forEach((ch, j) => map.set(ch, { i, j }));\n         return map;\n      }, new Map());\n   }\n\n   private prepareAlphabet(code: string, alphabet: string[]): string[] {\n      code = code.toLowerCase();\n\n      const codeSet = new Set(code);\n      return [...code.split(''), ...alphabet.filter(ch => !codeSet.has(ch))]\n   }\n}","import 'normalize.scss/normalize.scss';\nimport './index.scss';\nimport PlayfairGrid from './algorithms/playfair/PlayfairGrid';\n\nconst $app: HTMLElement = document.querySelector('.app');\nconst $auth: HTMLButtonElement = $app.querySelector('.actions__auth');\nconst $decode: HTMLButtonElement = $app.querySelector('.actions__decode');\nconst $db: HTMLElement = $app.querySelector('.db__content');\n\nconst $addForm: HTMLFormElement = $app.querySelector('.add');\nconst $login: HTMLInputElement = $addForm.login;\nconst $name: HTMLInputElement = $addForm.username;\nconst $pwd: HTMLInputElement = $addForm.pwd;\n\nconst playfairGrid = PlayfairGrid.createEnGrid('cluster');\n\ninitEvents();\n\nfunction initEvents() {\n   $auth.addEventListener('click', () => {\n      auth();\n   });\n\n   $decode.addEventListener('click', () => {\n      decode();\n   });\n\n   $addForm.addEventListener('submit', (event) => {\n      event.preventDefault();\n      addUser();\n   });\n}\n\nfunction auth() {\n   console.log('auth');\n}\n\nfunction decode() {\n   console.log('decode');\n   \n}\n\nfunction addUser() {\n   const data = {\n      login: $login.value.trim(),\n      name: $name.value.trim(),\n      pwd: $pwd.value.trim(),\n   }\n\n   console.log(data);\n}\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}