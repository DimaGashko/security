{"version":3,"sources":["playfair/algorithms/playfair/_utils.ts","playfair/algorithms/playfair/PlayfairGrid.ts","playfair/algorithms/playfair/playfair.ts","playfair/index.ts","../../../../../../../../usr/lib/node_modules/parcel-bundler/src/builtins/bundle-url.js","../../../../../../../../usr/lib/node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","document","querySelectorAll","i","length","module"],"mappings":"AIAA,ACAA,IDAIA,ACAAY,MAAM,GDAG,ACAAC,GDAG,IAAhB,ACAoB,CAAC,cAAD,CAApB;;ADCA,ACCA,SDDSZ,ACCAa,UAAT,CAAoBC,IAApB,EAA0B,CDD1B,GAA8B;AAC5B,ACCA,MDDI,ACCAC,CDDChB,MCCM,GDDX,ACCce,EDDE,ECCE,CAACE,SAAL,EAAd;ADAEjB,IAAAA,SAAS,GAAGE,YAAY,EAAxB;AACD,ACADc,EAAAA,OAAO,CAACE,MAAR,GAAiB,YAAY;AAC3BH,ALLJ,IKKIA,IAAI,CAACI,ALLe,KAAxB,CKKI,ALL0B,GAA9B,EAA0C,IAA1C,EAAsD;AIMpD,ACAC,ALLA,GKGD,MDEOnB,AJLC,IAAI,KIKZ,AJLQ,CAAU,IAAI,CAAC,IAAL,CAAU,GAAG,CAAC,MAAJ,GAAa,IAAvB,CAAV,EAAwC,IAAxC,CAA6C,CAA7C,EAAgD,GAAhD,CAAoD,UAAC,CAAD,EAAI,CAAJ,EAAK;AIMlE,AJLK,WAAO,GAAG,CAAC,KAAJ,CAAU,CAAC,GAAG,IAAd,EAAoB,CAAC,CAAC,GAAG,CAAL,IAAU,IAA9B,CAAP;AKKJgB,ALJE,EKIFA,CLNQ,CAAP,KKMM,CAACI,IAAR,GAAeL,IAAI,CAACK,IAAL,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgCC,IAAI,CAACC,GAAL,EAA/C;ADEF,ACDER,ALJD,EKICA,IAAI,CAACS,EDCEtB,QCDP,CAAgBuB,GDClB,GAAwB,MCDtB,CAA6BT,OAA7B,EAAsCD,IAAI,CAACW,WAA3C;ADEA,ACDD;ADEC,AJXF,AECA,ACDA,IDCA,EEUM,CJXN,AGAA,CHAA,AGAA,IDCA,GFDA,AECA,GFDA,KAAA,OECA,CAAA,OAAA,CAAA,ACDA,CAAA,SDCA,CAAA,CAAA;AEWI,ACDJ,IAAIC,MDCM,IAAIxB,ACDA,GAAG,EDCP,EAAN,ACDJ;ADEG,AFVH,ACFA,GCUE,CAEE,GDZJ,CAAA,CDEgB,EEULC,GAAP,CFVJ,CEUgB,AFVO,GAAvB,EAAoC,CCFpC,CAAA,EDEA,EAAsD;AEWlD,ACFJ,AHRG,QEUKC,CCFCuB,AHRC,MEUK,GAAG,ACFlB,CDEmB,AFVC,CAAC,CGQA,EHRD,CEUIxB,AFVd,CAAgB,EEUC,CAACE,AFVlB,CAAoB,IEUZ,EAAiBC,IFVL,CEUZ,AFVY,CEUW,CFVV,8DEUb,CAAd;ACDF,AHTiC,ACFnC,IAAA,EEWMoB,KHT6B,IAAI,CGSrC,AHTsC,EGStB,AFXlB,GAAA,KDEmC,CAAgB,CAAhB,CAAA,OCFnC,CAAA,OAAA,CAAA,oCAAA,CAAA,CAAA;ACaI,ACDA,AHViD,GAA3C,EAA6C,GEW/CtB,IFXE,CAAqD,EEW3D,EAAa,MFX8C,CAAA,EAAC;AEY1D,ACDH,AHXiE,ACDpE,IAAA,ODCoE,CAAA,CEYvDG,CDbb,GAAA,MCauB,CAACH,ADbxB,CAAA,MCa+B,CAAC,CAAD,CAAR,CAAjB,sBDbN,CAAA;ACcK,AFbgE,GAA3D,EAA6D,IAA7D,CAAkE,EAAlE,CAAP;AEcA,ACDDsB,AHZD,ACAD,EEYEA,EFZI,IAAI,GAAG,CEYD,GAAGE,UAAU,AFZZ,CEYa,AFZb,OAAA,CAAa,IEYY,QFZzB,CAA0B,SAA1B,CAAb;AEaI,AFXJ,MAAM,CAAC,CEWCC,KAAK,GAAGC,GFXhB,GAAsB,EEWE,CAACC,WFXH,CAAA,IEWN,CAA0B,EFX1C,sBEWgB,CAAZ;ADEF,AFjBF,ACKA,MAAM,CDLN,ACKO,CDLP,CEiBS,GAAP,EFjBF,GAAA,ICKA,EDLA,CCKwB,UAAA,CAAA,MAAxB;ACaC,ACFG,AFVJ,MAAM,CAAC,EEUE,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,AFVrB,GEUwBH,AFVA,KEUK,CAACI,IFVN,CAAA,CEUpB,EAAkCD,CAAC,EAAnC,AFVJ,EEU2C;AACrC,AHbN,ACIA,SDJgB,CGaNrB,AFTA,KDJV,CGagB,AHbO,CGaNJ,EHbjB,EAAoC,IAApC,EGaU,AHb4C,CGa1BsB,KAAK,CAACG,CAAD,CAAL,CAASb,IAA3B,MAAqCR,MAAM,CAACV,YAAP,EAAzC,EAAgE;ADGtE,ACFQY,AHbL,QGaKA,CDECN,AFfC,SGaQ,CDElB,ACFmBsB,AHbC,CEeArB,AFfC,GEerB,AFfoB,CGaI,AHbd,CEee,ACFAwB,AHbC,CGaF,CA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","file":"playfair.c021748f.js","sourceRoot":"../src/pages","sourcesContent":["export default function chunk(arr: any[], size: number): any[][] {\n   return new Array(Math.ceil(arr.length / size)).fill(0).map((_, i) => {\n      return arr.slice(i * size, (i + 1) * size);\n   });\n}","import chunk from \"./_utils\";\n\ntype GridMap = Map<string, { i: number, j: number }>\n\nexport default class PlayfairGrid {\n   private grid: string[][];\n   private gridMap: GridMap = new Map();\n\n   constructor(\n      private code: string,\n      private alphabet: string[],\n      private delimiter: string,\n      private width: number,\n   ) {\n      this.create();\n   }\n\n   public static createEnGrid(code: string) {\n      const alphabet = \"abcdefghijklmnopqrstuvwxyz'._\".split('');\n      return new PlayfairGrid(code, alphabet, \"'\", 5);\n   }\n\n   public static createUaGrid(code: string) {\n      const alphabet = \"абвгдеєжзиіїйклмнопрстуфхцчшщьюя'._\".split('');\n      return new PlayfairGrid(code, alphabet, \"'\", 5);\n   }\n\n   public encodePair(pair: string[]): string[] {\n      return this.processPair(pair, 'encode');      \n   }\n\n   public decodePair(pair: string[]): string[] {\n      return this.processPair(pair, 'decode');\n   }\n\n   private create() {\n      this.grid = chunk(this.prepareAlphabet(this.code, this.alphabet), this.width);\n      this.gridMap = this.createGridMap(this.grid);\n   }\n\n   private processPair([a, b]: string[], mode: 'encode' | 'decode'): string[] {\n      const shift = (mode === 'encode') ? 1 : -1;\n      \n      if (b === a || !b) b = this.delimiter;\n      const { i: ai, j: aj } = this.gridMap.get(a);\n      const { i: bi, j: bj } = this.gridMap.get(b);\n\n      if (ai === bi) {\n         return [\n            this.get(ai, aj + shift),\n            this.get(bi, bj + shift),\n         ];\n      }\n\n      if (aj === bj) {\n         return [\n            this.get(ai + shift, aj),\n            this.get(bi + shift, bj),\n         ];\n      }\n\n      return [\n         this.get(ai, bj),\n         this.get(bi, aj),\n      ];\n   }\n\n   private get(i: number, j: number): string {\n      if (i < 0) i = this.grid.length - 1;\n      else if (i === this.grid.length) i = 0;\n\n      if (j < 0) j = this.width - 1;\n      else if (j === this.width) j = 0;\n\n      return this.grid[i][j];\n   }\n\n   private createGridMap(grid: string[][]): GridMap {\n      return grid.reduce((map, row, i) => {\n         row.forEach((ch, j) => map.set(ch, { i, j }));\n         return map;\n      }, new Map());\n   }\n\n   private prepareAlphabet(code: string, alphabet: string[]): string[] {\n      code = code.toLowerCase();\n\n      const codeSet = new Set(code);\n      return [...code.split(''), ...alphabet.filter(ch => !codeSet.has(ch))]\n   }\n}","import PlayfairGrid from \"./PlayfairGrid\";\nimport chunk from \"./_utils\";\n\nexport function encode(msg: string, grid: PlayfairGrid): string {\n   return prepareMsg(msg).map(p => grid.encodePair(p)).flatMap(s => s).join('');\n}\n\nexport function decode(msg: string, grid: PlayfairGrid): string {\n   return prepareMsg(msg).map(p => grid.decodePair(p)).flatMap(s => s).join('');\n}\n\nfunction prepareMsg(msg) {\n   return chunk(msg.toLowerCase().replace(/\\s/g, '').split(''), 2);\n}","import 'normalize.scss/normalize.scss';\nimport './index.scss';\nimport PlayfairGrid from './algorithms/playfair/PlayfairGrid';\nimport { encode, decode } from './algorithms/playfair/playfair';\n\nconst grid = PlayfairGrid.createEnGrid('cluster');\n\nwindow.PlayfairGrid = PlayfairGrid;\nwindow.encodePlayfair = encode;\nwindow.decodePlayfair = decode;\n\ninitEvents();\n\nfunction initEvents() {\n  \n}\n\n\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}